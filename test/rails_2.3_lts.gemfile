# Gemfile for health_test testing

source 'https://rubygems.org'

# Last rubygems version before 2.0.0 (which breaks rails 2.3)
#rubygems 1.8.25

ruby "1.8.7"

git 'https://github.com/makandra/rails.git', :branch => '2-3-lts' do
  gem 'rails', '~>2.3.18'
  gem 'actionmailer',     :require => false
  gem 'actionpack',       :require => false
  gem 'activerecord',     :require => false
  gem 'activeresource',   :require => false
  gem 'activesupport',    :require => false
  gem 'railties',         :require => false
  gem 'railslts-version', :require => false
end

gem 'rake', ">= 0.8.3", "< 11.0"        # REQUIRED

gem 'rdoc'
gem 'rdoc-data'

# mime-types 2.0 requires Ruby version >= 1.9.2
gem "mime-types", "< 2.0" if RUBY_VERSION < '1.9.2' # REQUIRED
# 0.7 requires ruby 1.9.3
gem 'i18n', '< 0.7' if RUBY_VERSION < '1.9.3' # REQUIRED
# rack 2.0 requires ruby 2.2.2, rails 3.2 requires rack ~> 1.4.5
gem 'rack', "< 1.5" # REQUIRED

group :development, :test do
  if defined?(JRUBY_VERSION)
    gem 'jruby-openssl'
    gem 'activerecord-jdbcsqlite3-adapter'
  else
    gem 'sqlite3', "~> 1.3.7"
  end
  gem 'shoulda', "~> 2.11.0"

  # redis based checks
  gem 'sidekiq', :require => !!ENV['SIDEKIQ']
  gem 'redis', :require => !!ENV['REDIS']
  gem 'resque', :require => !!ENV['RESQUE']
  # s3 check
  gem 'aws-sdk', :require => !!ENV['AWS']
  gem 'elasticsearch', :require => !!ENV['ELASTICSEARCH_URL']

end
